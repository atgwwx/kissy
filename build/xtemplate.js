/*
Copyright 2014, KISSY v5.0.0
MIT Licensed
build time: Jul 7 17:05
*/
KISSY.add("xtemplate",["util","xtemplate/runtime","xtemplate/compiler","logger-manager"],function(b,k,q,r){function a(b,g){g=this.config=g||{};g.loader=g.loader||c;"string"===typeof b&&(b=d.compile(b,g&&g.name));a.superclass.constructor.call(this,b,g)}var b=k("util"),q=k("xtemplate/runtime"),d=k("xtemplate/compiler");k("logger-manager");var c={cache:{},load:function(a,b){var c=a.name,e=this.cache;if(e[c])return b(void 0,e[c]);k([c],{success:function(a){if("string"===typeof a)try{a=d.compile(a,c)}catch(h){return b(h)}e[c]=
a;b(void 0,a)},error:function(){b('template "'+c+'" does not exist')}})}};b.extend(a,q,{},{compile:d.compile,loader:c,Compiler:d,Scope:q.Scope,RunTime:q,addCommand:q.addCommand,removeCommand:q.removeCommand});r.exports=a});
KISSY.add("xtemplate/compiler",["util","./runtime","./compiler/parser","./compiler/ast"],function(b,k,q,r){function a(a){return'"'+a+'"'}function d(a,e){return a.replace(e?v:A,function(a){a.length%2&&(a="\\"+a);return a})}function c(a,e){a=e?d(a,0):a.replace(/\\/g,"\\\\").replace(/'/g,"\\'");return a=a.replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")}function i(a){var e=[],j=a.opType,h,b,d;b=f[a.op1.type](a.op1);d=f[a.op2.type](a.op2);a=b.exp;h=d.exp;var c="exp"+t++;b=b.source;d=d.source;
s.apply(e,b);e.push("var "+c+" = "+a+";");"&&"===j||"||"===j?(e.push("if("+("&&"===j?"":"!")+"("+a+")){"),s.apply(e,d),e.push(c+" = "+h+";"),e.push("}")):(s.apply(e,d),e.push(c+" = ("+a+")"+j+"("+h+");"));return{exp:c,source:e}}function g(e,j){if(1===j.length)return null;var b,h,d,c,g=0;b=0;for(h=j.length;b<h;b++)if(j[b].type){g=1;break}if(g){g=[];b=0;for(h=j.length;b<h;b++)d=j[b],(c=d.type)?(d=f[c](d),s.apply(e,d.source),g.push(d.exp)):g.push(a(d));return g}return null}function y(a){for(var e=["function(scope, buffer) {"],
b=0,j=a.length;b<j;b++){var h=f[a[b].type](a[b]).source;s.apply(e,h)}e.push(m);e.push("}");return e}function e(e,b){var j="option"+t++,d=["var "+j+" = {"+(b?"escape: 1":"")+"};"],c=e.params,g=e.hash;if(c){var i="params"+t++;d.push("var "+i+" = [];");h.each(c,function(a){a=f[a.type](a);s.apply(d,a.source);d.push(i+".push("+a.exp+");")});d.push(j+".params = "+i+";")}if(g){var w="hash"+t++;d.push("var "+w+" = {};");h.each(g.value,function(e,b){var j=f[e.type](e);s.apply(d,j.source);d.push(w+"["+a(b)+
"] = "+j.exp+";")});d.push(j+".hash = "+w+";")}return{exp:j,source:d}}function j(b,j,d,h){var f=[],c,i=j.id,l,k=i.string,m=i.parts,o=i.lineNumber;c=e(j,d);d=c.exp;s.apply(f,c.source);h&&(c=h.program,f.push(d+".fn = "+y(c.statements).join("\n")+";"),c.inverse&&f.push(d+".inverse = "+y(c.inverse).join("\n")+";"));b.isModule&&("include"===k||"extend"===k)&&f.push(n(B,{name:j.params[0].value}));h||(l="callRet"+t++,f.push("var "+l));k in p?f.push(n(w,{lhs:h?"buffer":l,name:k,option:d,lineNumber:o})):h?
f.push(n(C,{option:d,idParts:a(m.join('","')),lineNumber:o})):(b=g(f,m),f.push(n(D,{lhs:l,option:d,idParts:b?b.join(","):a(m.join('","')),depth:i.depth,lineNumber:o})));l&&f.push(n(E,{name:l}));return{exp:l,source:f}}var h=k("util"),f,w="{lhs} = {name}Command.call(tpl, scope, {option}, buffer, {lineNumber});",C="buffer = callCommandUtil(tpl, scope, {option}, buffer, [{idParts}], {lineNumber});",D="{lhs} = callFnUtil(tpl, scope, {option}, buffer, [{idParts}], {depth},{lineNumber});",B='require("{name}");',
E="if({name} && {name}.isBuffer){\nbuffer = {name};\n{name} = undefined;\n}",m="return buffer;",b=k("./runtime"),z=k("./compiler/parser");z.yy=k("./compiler/ast");var l=[],n=h.substitute,p=b.nativeCommands,k=b.utils,o={};o.undefined=o["null"]=o["true"]=o["false"]=1;for(var u in k)l.push(n('{name}Util = utils["{name}"]',{name:u}));for(u in p)l.push(n('{name}Command = nativeCommands["{name}"]',{name:u}));var l="var "+l.join(",\n")+";",v=/\\*"/g,A=/\\*'/g,s=[].push,t=0;f={conditionalOrExpression:i,conditionalAndExpression:i,
relationalExpression:i,equalityExpression:i,additiveExpression:i,multiplicativeExpression:i,unaryExpression:function(a){var e=f[a.value.type](a.value);return{exp:a.unaryType+"("+e.exp+")",source:e.source}},string:function(a){return{exp:"'"+c(a.value,1)+"'",source:[]}},number:function(a){return{exp:a.value,source:[]}},id:function(e){if(o[e.string])return{exp:e.string,source:[]};var b=[],j=e.depth,e=e.parts,d="id"+t++,h=g(b,e);b.push(n("var {lhs} = scope.resolve([{idParts}],{depth});",{lhs:d,idParts:h?
h.join(","):a(e.join('","')),depth:j}));return{exp:d,source:b}},"function":function(a,e){return j(this,a,e)},blockStatement:function(a){return j(this,a.func,a.escape,a)},expressionStatement:function(a){var e=[],b=a.escape,a=a.value,a=f[a.type](a,b);s.apply(e,a.source);e.push(n("buffer.write({value},{escape});",{value:a.exp,escape:!!b}));return{exp:"",source:e}},contentStatement:function(a){var e=n,a=c(a.value,0);return{exp:"",source:[e("buffer.write({value},{escape});",{value:"'"+a+"'",escape:0})]}}};
var x;x={parse:function(a,e){return z.parse(a,e)},compileToStr:function(a,e,b){a=x.compileToJson(a,e,b);return n("function({params}){\n{body}\n}",{params:a.params.join(","),body:a.source})},compileToJson:function(a,e,b){a=x.parse(a,e);t=0;f.isModule=b;for(var b=f,a=a.statements,e=["var tpl = this,\nnativeCommands = tpl.root.nativeCommands,\nutils = tpl.root.utils;",l],j=0,d=a.length;j<d;j++){var h=b[a[j].type](a[j]).source;s.apply(e,h)}e.push(m);return{params:["scope","buffer","undefined"],source:e.join("\n")}},
compile:function(a,e){var b=x.compileToJson(a,e||"xtemplate"+t++);return Function.apply(null,b.params.concat(b.source+n("\n//# sourceURL = {name}.js",{name:e})))}};r.exports=x});
KISSY.add("xtemplate/compiler/parser",[],function(b,k,q,r){b=function(a){function b(a,j){for(var h in j)a[h]=j[h]}function c(a,b,h){if(a){var d,c,g=0,h=h||null;if("[object Array]"===Object.prototype.toString.call(a)){c=a.length;for(d=a[0];g<c&&!1!==b.call(h,d,g,a);d=a[++g]);}else for(d in a)if(!1===b.call(h,a[d],d,a))break}}var i={},g=function(a){this.rules=[];b(this,a);this.resetInput(this.input)};g.prototype={resetInput:function(a){b(this,{input:a,matched:"",stateStack:[g.STATIC.INITIAL],match:"",
text:"",firstLine:1,lineNumber:1,lastLine:1,firstColumn:1,lastColumn:1})},getCurrentRules:function(){var a=this.stateStack[this.stateStack.length-1],b=[];this.mapState&&(a=this.mapState(a));c(this.rules,function(d){var f=d.state||d[3];if(f){a:{for(var c=0,i=f.length;c<i;c++)if(f[c]===a){f=!0;break a}f=!1}f&&b.push(d)}else a===g.STATIC.INITIAL&&b.push(d)});return b},pushState:function(a){this.stateStack.push(a)},popState:function(a){for(var a=a||1,b;a--;)b=this.stateStack.pop();return b},showDebugInfo:function(){var a=
g.STATIC.DEBUG_CONTEXT_LIMIT,b=this.matched,d=this.match,c=this.input,b=b.slice(0,b.length-d.length),b=(b.length>a?"...":"")+b.slice(0-a).replace(/\n/g," "),d=d+c,d=d.slice(0,a).replace(/\n/g," ")+(d.length>a?"...":"");return b+d+"\n"+Array(b.length+1).join("-")+"^"},mapSymbol:function(a){return this.symbolMap[a]},mapReverseSymbol:function(a){var b=this.symbolMap,d,c=this.reverseSymbolMap;if(!c&&b)for(d in c=this.reverseSymbolMap={},b)c[b[d]]=d;return c?c[a]:a},lex:function(){var e=this.input,c,h,
f,i=this.getCurrentRules();this.match=this.text="";if(!e)return this.mapSymbol(g.STATIC.END_TAG);for(c=0;c<i.length;c++){h=i[c];var k=h.token||h[0];f=h.action||h[2]||a;if(h=e.match(h.regexp||h[1])){if(c=h[0].match(/\n.*/g))this.lineNumber+=c.length;b(this,{firstLine:this.lastLine,lastLine:this.lineNumber+1,firstColumn:this.lastColumn,lastColumn:c?c[c.length-1].length-1:this.lastColumn+h[0].length});c=this.match=h[0];this.matches=h;this.text=c;this.matched+=c;f=f&&f.call(this);f=f===a?k:this.mapSymbol(f);
this.input=e=e.slice(c.length);return f?f:this.lex()}}}};g.STATIC={INITIAL:"I",DEBUG_CONTEXT_LIMIT:20,END_TAG:"$EOF"};var k=new g({rules:[[0,/^[\s\S]*?(?={{)/,function(){var a=this.text,b,d=0;if(b=a.match(/\\+$/))d=b[0].length;d%2?(this.pushState("et"),a=a.slice(0,-1)):this.pushState("t");d&&(a=a.replace(/\\+$/g,function(a){return Array(a.length/2+1).join("\\")}));this.text=a;return"CONTENT"}],["b",/^[\s\S]+/,0],["b",/^[\s\S]{2,}?(?:(?={{)|$)/,function(){this.popState()},["et"]],["c",/^{{{?(?:#|@)/,
function(){4===this.text.length?this.pushState("p"):this.pushState("e")},["t"]],["d",/^{{{?\//,function(){4===this.text.length?this.pushState("p"):this.pushState("e")},["t"]],["e",/^{{\s*else\s*}}/,function(){this.popState()},["t"]],[0,/^{{![\s\S]*?}}/,function(){this.popState()},["t"]],["b",/^{{%([\s\S]*?)%}}/,function(){this.text=this.matches[1]||"";this.popState()},["t"]],["f",/^{{{?/,function(){3===this.text.length?this.pushState("p"):this.pushState("e")},["t"]],[0,/^\s+/,0,["p","e"]],["g",/^,/,
0,["p","e"]],["h",/^}}}/,function(){this.popState(2)},["p"]],["h",/^}}/,function(){this.popState(2)},["e"]],["i",/^\(/,0,["p","e"]],["j",/^\)/,0,["p","e"]],["k",/^\|\|/,0,["p","e"]],["l",/^&&/,0,["p","e"]],["m",/^===/,0,["p","e"]],["n",/^!==/,0,["p","e"]],["o",/^>=/,0,["p","e"]],["p",/^<=/,0,["p","e"]],["q",/^>/,0,["p","e"]],["r",/^</,0,["p","e"]],["s",/^\+/,0,["p","e"]],["t",/^-/,0,["p","e"]],["u",/^\*/,0,["p","e"]],["v",/^\//,0,["p","e"]],["w",/^%/,0,["p","e"]],["x",/^!/,0,["p","e"]],["y",/^"(\\[\s\S]|[^\\"\n])*"/,
function(){this.text=this.text.slice(1,-1).replace(/\\"/g,'"')},["p","e"]],["y",/^'(\\[\s\S]|[^\\'\n])*'/,function(){this.text=this.text.slice(1,-1).replace(/\\'/g,"'")},["p","e"]],["z",/^\d+(?:\.\d+)?(?:e-?\d+)?/i,0,["p","e"]],["aa",/^=/,0,["p","e"]],["ab",/^\.\./,function(){this.pushState("ws")},["p","e"]],["ac",/^\//,function(){this.popState()},["ws"]],["ac",/^\./,0,["p","e"]],["ad",/^\[/,0,["p","e"]],["ae",/^\]/,0,["p","e"]],["ab",/^[a-zA-Z0-9_$]+/,0,["p","e"]]]});i.lexer=k;k.symbolMap={$EOF:"a",
CONTENT:"b",OPEN_BLOCK:"c",OPEN_CLOSE_BLOCK:"d",INVERSE:"e",OPEN_TPL:"f",COMMA:"g",CLOSE:"h",LPAREN:"i",RPAREN:"j",OR:"k",AND:"l",LOGIC_EQUALS:"m",LOGIC_NOT_EQUALS:"n",GE:"o",LE:"p",GT:"q",LT:"r",PLUS:"s",MINUS:"t",MULTIPLY:"u",DIVIDE:"v",MODULUS:"w",NOT:"x",STRING:"y",NUMBER:"z",EQUALS:"aa",ID:"ab",SEP:"ac",REF_START:"ad",REF_END:"ae",$START:"af",program:"ag",statements:"ah",statement:"ai","function":"aj",id:"ak",expression:"al",params:"am",hash:"an",param:"ao",conditionalOrExpression:"ap",conditionalAndExpression:"aq",
equalityExpression:"ar",relationalExpression:"as",additiveExpression:"at",multiplicativeExpression:"au",unaryExpression:"av",primaryExpression:"aw",hashSegment:"ax",idSegments:"ay"};i.productions=[["af",["ag"]],["ag",["ah","e","ah"],function(){return new this.yy.ProgramNode(this.lexer.lineNumber,this.$1,this.$3)}],["ag",["ah"],function(){return new this.yy.ProgramNode(this.lexer.lineNumber,this.$1)}],["ah",["ai"],function(){return[this.$1]}],["ah",["ah","ai"],function(){this.$1.push(this.$2)}],["ai",
"c,aj,h,ag,d,ak,h".split(","),function(){return new this.yy.BlockStatement(this.lexer.lineNumber,this.$2,this.$4,this.$6,this.$1.length!==4)}],["ai",["f","al","h"],function(){return new this.yy.ExpressionStatement(this.lexer.lineNumber,this.$2,3!==this.$1.length)}],["ai",["b"],function(){return new this.yy.ContentStatement(this.lexer.lineNumber,this.$1)}],["aj","ak,i,am,g,an,j".split(","),function(){return new this.yy.Function(this.lexer.lineNumber,this.$1,this.$3,this.$5)}],["aj",["ak","i","am",
"j"],function(){return new this.yy.Function(this.lexer.lineNumber,this.$1,this.$3)}],["aj",["ak","i","an","j"],function(){return new this.yy.Function(this.lexer.lineNumber,this.$1,null,this.$3)}],["aj",["ak","i","j"],function(){return new this.yy.Function(this.lexer.lineNumber,this.$1)}],["am",["am","g","ao"],function(){this.$1.push(this.$3)}],["am",["ao"],function(){return[this.$1]}],["ao",["al"]],["al",["ap"]],["ap",["aq"]],["ap",["ap","k","aq"],function(){return new this.yy.ConditionalOrExpression(this.$1,
this.$3)}],["aq",["ar"]],["aq",["aq","l","ar"],function(){return new this.yy.ConditionalAndExpression(this.$1,this.$3)}],["ar",["as"]],["ar",["ar","m","as"],function(){return new this.yy.EqualityExpression(this.$1,"===",this.$3)}],["ar",["ar","n","as"],function(){return new this.yy.EqualityExpression(this.$1,"!==",this.$3)}],["as",["at"]],["as",["as","r","at"],function(){return new this.yy.RelationalExpression(this.$1,"<",this.$3)}],["as",["as","q","at"],function(){return new this.yy.RelationalExpression(this.$1,
">",this.$3)}],["as",["as","p","at"],function(){return new this.yy.RelationalExpression(this.$1,"<=",this.$3)}],["as",["as","o","at"],function(){return new this.yy.RelationalExpression(this.$1,">=",this.$3)}],["at",["au"]],["at",["at","s","au"],function(){return new this.yy.AdditiveExpression(this.$1,"+",this.$3)}],["at",["at","t","au"],function(){return new this.yy.AdditiveExpression(this.$1,"-",this.$3)}],["au",["av"]],["au",["au","u","av"],function(){return new this.yy.MultiplicativeExpression(this.$1,
"*",this.$3)}],["au",["au","v","av"],function(){return new this.yy.MultiplicativeExpression(this.$1,"/",this.$3)}],["au",["au","w","av"],function(){return new this.yy.MultiplicativeExpression(this.$1,"%",this.$3)}],["av",["x","av"],function(){return new this.yy.UnaryExpression(this.$1,this.$2)}],["av",["t","av"],function(){return new this.yy.UnaryExpression(this.$1,this.$2)}],["av",["aw"]],["aw",["aj"]],["aw",["y"],function(){return new this.yy.String(this.lexer.lineNumber,this.$1)}],["aw",["z"],
function(){return new this.yy.Number(this.lexer.lineNumber,this.$1)}],["aw",["ak"]],["aw",["i","al","j"],function(){return this.$2}],["an",["an","g","ax"],function(){var a=this.$3;this.$1.value[a[0]]=a[1]}],["an",["ax"],function(){var a=new this.yy.Hash(this.lexer.lineNumber),b=this.$1;a.value[b[0]]=b[1];return a}],["ax",["ab","aa","al"],function(){return[this.$1,this.$3]}],["ak",["ay"],function(){return new this.yy.Id(this.lexer.lineNumber,this.$1)}],["ay",["ay","ac","ab"],function(){this.$1.push(this.$3)}],
["ay",["ay","ad","al","ae"],function(){this.$1.push(this.$3)}],["ay",["ab"],function(){return[this.$1]}]];i.table={gotos:{"0":{ag:4,ah:5,ai:6},2:{aj:8,ak:9,ay:10},3:{aj:16,al:17,ap:18,aq:19,ar:20,as:21,at:22,au:23,av:24,aw:25,ak:26,ay:10},5:{ai:28},11:{aj:16,al:33,ap:18,aq:19,ar:20,as:21,at:22,au:23,av:24,aw:25,ak:26,ay:10},12:{aj:16,av:34,aw:25,ak:26,ay:10},13:{aj:16,av:35,aw:25,ak:26,ay:10},27:{ah:50,ai:6},29:{ag:51,ah:5,ai:6},30:{aj:16,am:54,ao:55,al:56,ap:18,aq:19,ar:20,as:21,at:22,au:23,av:24,
aw:25,an:57,ax:58,ak:26,ay:10},32:{aj:16,al:60,ap:18,aq:19,ar:20,as:21,at:22,au:23,av:24,aw:25,ak:26,ay:10},37:{aj:16,aq:62,ar:20,as:21,at:22,au:23,av:24,aw:25,ak:26,ay:10},38:{aj:16,ar:63,as:21,at:22,au:23,av:24,aw:25,ak:26,ay:10},39:{aj:16,as:64,at:22,au:23,av:24,aw:25,ak:26,ay:10},40:{aj:16,as:65,at:22,au:23,av:24,aw:25,ak:26,ay:10},41:{aj:16,at:66,au:23,av:24,aw:25,ak:26,ay:10},42:{aj:16,at:67,au:23,av:24,aw:25,ak:26,ay:10},43:{aj:16,at:68,au:23,av:24,aw:25,ak:26,ay:10},44:{aj:16,at:69,au:23,
av:24,aw:25,ak:26,ay:10},45:{aj:16,au:70,av:24,aw:25,ak:26,ay:10},46:{aj:16,au:71,av:24,aw:25,ak:26,ay:10},47:{aj:16,av:72,aw:25,ak:26,ay:10},48:{aj:16,av:73,aw:25,ak:26,ay:10},49:{aj:16,av:74,aw:25,ak:26,ay:10},50:{ai:28},75:{ak:82,ay:10},76:{aj:16,al:83,ap:18,aq:19,ar:20,as:21,at:22,au:23,av:24,aw:25,ak:26,ay:10},77:{aj:16,ao:84,al:56,ap:18,aq:19,ar:20,as:21,at:22,au:23,av:24,aw:25,an:85,ax:58,ak:26,ay:10},79:{ax:87}},action:{"0":{b:[1,a,1],c:[1,a,2],f:[1,a,3]},1:{a:[2,7],e:[2,7],c:[2,7],f:[2,7],
b:[2,7],d:[2,7]},2:{ab:[1,a,7]},3:{i:[1,a,11],t:[1,a,12],x:[1,a,13],y:[1,a,14],z:[1,a,15],ab:[1,a,7]},4:{a:[0]},5:{a:[2,2],d:[2,2],b:[1,a,1],c:[1,a,2],e:[1,a,27],f:[1,a,3]},6:{a:[2,3],e:[2,3],c:[2,3],f:[2,3],b:[2,3],d:[2,3]},7:{i:[2,49],ac:[2,49],ad:[2,49],h:[2,49],k:[2,49],l:[2,49],m:[2,49],n:[2,49],o:[2,49],p:[2,49],q:[2,49],r:[2,49],s:[2,49],t:[2,49],u:[2,49],v:[2,49],w:[2,49],j:[2,49],ae:[2,49],g:[2,49]},8:{h:[1,a,29]},9:{i:[1,a,30]},10:{i:[2,46],h:[2,46],k:[2,46],l:[2,46],m:[2,46],n:[2,46],o:[2,
46],p:[2,46],q:[2,46],r:[2,46],s:[2,46],t:[2,46],u:[2,46],v:[2,46],w:[2,46],j:[2,46],g:[2,46],ae:[2,46],ac:[1,a,31],ad:[1,a,32]},11:{i:[1,a,11],t:[1,a,12],x:[1,a,13],y:[1,a,14],z:[1,a,15],ab:[1,a,7]},12:{i:[1,a,11],t:[1,a,12],x:[1,a,13],y:[1,a,14],z:[1,a,15],ab:[1,a,7]},13:{i:[1,a,11],t:[1,a,12],x:[1,a,13],y:[1,a,14],z:[1,a,15],ab:[1,a,7]},14:{h:[2,39],k:[2,39],l:[2,39],m:[2,39],n:[2,39],o:[2,39],p:[2,39],q:[2,39],r:[2,39],s:[2,39],t:[2,39],u:[2,39],v:[2,39],w:[2,39],j:[2,39],g:[2,39],ae:[2,39]},
15:{h:[2,40],k:[2,40],l:[2,40],m:[2,40],n:[2,40],o:[2,40],p:[2,40],q:[2,40],r:[2,40],s:[2,40],t:[2,40],u:[2,40],v:[2,40],w:[2,40],j:[2,40],g:[2,40],ae:[2,40]},16:{h:[2,38],k:[2,38],l:[2,38],m:[2,38],n:[2,38],o:[2,38],p:[2,38],q:[2,38],r:[2,38],s:[2,38],t:[2,38],u:[2,38],v:[2,38],w:[2,38],j:[2,38],g:[2,38],ae:[2,38]},17:{h:[1,a,36]},18:{h:[2,15],j:[2,15],g:[2,15],ae:[2,15],k:[1,a,37]},19:{h:[2,16],k:[2,16],j:[2,16],g:[2,16],ae:[2,16],l:[1,a,38]},20:{h:[2,18],k:[2,18],l:[2,18],j:[2,18],g:[2,18],ae:[2,
18],m:[1,a,39],n:[1,a,40]},21:{h:[2,20],k:[2,20],l:[2,20],m:[2,20],n:[2,20],j:[2,20],g:[2,20],ae:[2,20],o:[1,a,41],p:[1,a,42],q:[1,a,43],r:[1,a,44]},22:{h:[2,23],k:[2,23],l:[2,23],m:[2,23],n:[2,23],o:[2,23],p:[2,23],q:[2,23],r:[2,23],j:[2,23],g:[2,23],ae:[2,23],s:[1,a,45],t:[1,a,46]},23:{h:[2,28],k:[2,28],l:[2,28],m:[2,28],n:[2,28],o:[2,28],p:[2,28],q:[2,28],r:[2,28],s:[2,28],t:[2,28],j:[2,28],g:[2,28],ae:[2,28],u:[1,a,47],v:[1,a,48],w:[1,a,49]},24:{h:[2,31],k:[2,31],l:[2,31],m:[2,31],n:[2,31],o:[2,
31],p:[2,31],q:[2,31],r:[2,31],s:[2,31],t:[2,31],u:[2,31],v:[2,31],w:[2,31],j:[2,31],g:[2,31],ae:[2,31]},25:{h:[2,37],k:[2,37],l:[2,37],m:[2,37],n:[2,37],o:[2,37],p:[2,37],q:[2,37],r:[2,37],s:[2,37],t:[2,37],u:[2,37],v:[2,37],w:[2,37],j:[2,37],g:[2,37],ae:[2,37]},26:{h:[2,41],k:[2,41],l:[2,41],m:[2,41],n:[2,41],o:[2,41],p:[2,41],q:[2,41],r:[2,41],s:[2,41],t:[2,41],u:[2,41],v:[2,41],w:[2,41],j:[2,41],g:[2,41],ae:[2,41],i:[1,a,30]},27:{b:[1,a,1],c:[1,a,2],f:[1,a,3]},28:{a:[2,4],e:[2,4],c:[2,4],f:[2,
4],b:[2,4],d:[2,4]},29:{b:[1,a,1],c:[1,a,2],f:[1,a,3]},30:{i:[1,a,11],j:[1,a,52],t:[1,a,12],x:[1,a,13],y:[1,a,14],z:[1,a,15],ab:[1,a,53]},31:{ab:[1,a,59]},32:{i:[1,a,11],t:[1,a,12],x:[1,a,13],y:[1,a,14],z:[1,a,15],ab:[1,a,7]},33:{j:[1,a,61]},34:{h:[2,36],k:[2,36],l:[2,36],m:[2,36],n:[2,36],o:[2,36],p:[2,36],q:[2,36],r:[2,36],s:[2,36],t:[2,36],u:[2,36],v:[2,36],w:[2,36],j:[2,36],g:[2,36],ae:[2,36]},35:{h:[2,35],k:[2,35],l:[2,35],m:[2,35],n:[2,35],o:[2,35],p:[2,35],q:[2,35],r:[2,35],s:[2,35],t:[2,35],
u:[2,35],v:[2,35],w:[2,35],j:[2,35],g:[2,35],ae:[2,35]},36:{a:[2,6],e:[2,6],c:[2,6],f:[2,6],b:[2,6],d:[2,6]},37:{i:[1,a,11],t:[1,a,12],x:[1,a,13],y:[1,a,14],z:[1,a,15],ab:[1,a,7]},38:{i:[1,a,11],t:[1,a,12],x:[1,a,13],y:[1,a,14],z:[1,a,15],ab:[1,a,7]},39:{i:[1,a,11],t:[1,a,12],x:[1,a,13],y:[1,a,14],z:[1,a,15],ab:[1,a,7]},40:{i:[1,a,11],t:[1,a,12],x:[1,a,13],y:[1,a,14],z:[1,a,15],ab:[1,a,7]},41:{i:[1,a,11],t:[1,a,12],x:[1,a,13],y:[1,a,14],z:[1,a,15],ab:[1,a,7]},42:{i:[1,a,11],t:[1,a,12],x:[1,a,13],
y:[1,a,14],z:[1,a,15],ab:[1,a,7]},43:{i:[1,a,11],t:[1,a,12],x:[1,a,13],y:[1,a,14],z:[1,a,15],ab:[1,a,7]},44:{i:[1,a,11],t:[1,a,12],x:[1,a,13],y:[1,a,14],z:[1,a,15],ab:[1,a,7]},45:{i:[1,a,11],t:[1,a,12],x:[1,a,13],y:[1,a,14],z:[1,a,15],ab:[1,a,7]},46:{i:[1,a,11],t:[1,a,12],x:[1,a,13],y:[1,a,14],z:[1,a,15],ab:[1,a,7]},47:{i:[1,a,11],t:[1,a,12],x:[1,a,13],y:[1,a,14],z:[1,a,15],ab:[1,a,7]},48:{i:[1,a,11],t:[1,a,12],x:[1,a,13],y:[1,a,14],z:[1,a,15],ab:[1,a,7]},49:{i:[1,a,11],t:[1,a,12],x:[1,a,13],y:[1,
a,14],z:[1,a,15],ab:[1,a,7]},50:{a:[2,1],d:[2,1],b:[1,a,1],c:[1,a,2],f:[1,a,3]},51:{d:[1,a,75]},52:{h:[2,11],k:[2,11],l:[2,11],m:[2,11],n:[2,11],o:[2,11],p:[2,11],q:[2,11],r:[2,11],s:[2,11],t:[2,11],u:[2,11],v:[2,11],w:[2,11],j:[2,11],g:[2,11],ae:[2,11]},53:{g:[2,49],i:[2,49],j:[2,49],k:[2,49],l:[2,49],m:[2,49],n:[2,49],o:[2,49],p:[2,49],q:[2,49],r:[2,49],s:[2,49],t:[2,49],u:[2,49],v:[2,49],w:[2,49],ac:[2,49],ad:[2,49],aa:[1,a,76]},54:{g:[1,a,77],j:[1,a,78]},55:{g:[2,13],j:[2,13]},56:{g:[2,14],j:[2,
14]},57:{g:[1,a,79],j:[1,a,80]},58:{j:[2,44],g:[2,44]},59:{i:[2,47],ac:[2,47],ad:[2,47],h:[2,47],k:[2,47],l:[2,47],m:[2,47],n:[2,47],o:[2,47],p:[2,47],q:[2,47],r:[2,47],s:[2,47],t:[2,47],u:[2,47],v:[2,47],w:[2,47],j:[2,47],g:[2,47],ae:[2,47]},60:{ae:[1,a,81]},61:{h:[2,42],k:[2,42],l:[2,42],m:[2,42],n:[2,42],o:[2,42],p:[2,42],q:[2,42],r:[2,42],s:[2,42],t:[2,42],u:[2,42],v:[2,42],w:[2,42],j:[2,42],g:[2,42],ae:[2,42]},62:{h:[2,17],k:[2,17],j:[2,17],g:[2,17],ae:[2,17],l:[1,a,38]},63:{h:[2,19],k:[2,19],
l:[2,19],j:[2,19],g:[2,19],ae:[2,19],m:[1,a,39],n:[1,a,40]},64:{h:[2,21],k:[2,21],l:[2,21],m:[2,21],n:[2,21],j:[2,21],g:[2,21],ae:[2,21],o:[1,a,41],p:[1,a,42],q:[1,a,43],r:[1,a,44]},65:{h:[2,22],k:[2,22],l:[2,22],m:[2,22],n:[2,22],j:[2,22],g:[2,22],ae:[2,22],o:[1,a,41],p:[1,a,42],q:[1,a,43],r:[1,a,44]},66:{h:[2,27],k:[2,27],l:[2,27],m:[2,27],n:[2,27],o:[2,27],p:[2,27],q:[2,27],r:[2,27],j:[2,27],g:[2,27],ae:[2,27],s:[1,a,45],t:[1,a,46]},67:{h:[2,26],k:[2,26],l:[2,26],m:[2,26],n:[2,26],o:[2,26],p:[2,
26],q:[2,26],r:[2,26],j:[2,26],g:[2,26],ae:[2,26],s:[1,a,45],t:[1,a,46]},68:{h:[2,25],k:[2,25],l:[2,25],m:[2,25],n:[2,25],o:[2,25],p:[2,25],q:[2,25],r:[2,25],j:[2,25],g:[2,25],ae:[2,25],s:[1,a,45],t:[1,a,46]},69:{h:[2,24],k:[2,24],l:[2,24],m:[2,24],n:[2,24],o:[2,24],p:[2,24],q:[2,24],r:[2,24],j:[2,24],g:[2,24],ae:[2,24],s:[1,a,45],t:[1,a,46]},70:{h:[2,29],k:[2,29],l:[2,29],m:[2,29],n:[2,29],o:[2,29],p:[2,29],q:[2,29],r:[2,29],s:[2,29],t:[2,29],j:[2,29],g:[2,29],ae:[2,29],u:[1,a,47],v:[1,a,48],w:[1,
a,49]},71:{h:[2,30],k:[2,30],l:[2,30],m:[2,30],n:[2,30],o:[2,30],p:[2,30],q:[2,30],r:[2,30],s:[2,30],t:[2,30],j:[2,30],g:[2,30],ae:[2,30],u:[1,a,47],v:[1,a,48],w:[1,a,49]},72:{h:[2,32],k:[2,32],l:[2,32],m:[2,32],n:[2,32],o:[2,32],p:[2,32],q:[2,32],r:[2,32],s:[2,32],t:[2,32],u:[2,32],v:[2,32],w:[2,32],j:[2,32],g:[2,32],ae:[2,32]},73:{h:[2,33],k:[2,33],l:[2,33],m:[2,33],n:[2,33],o:[2,33],p:[2,33],q:[2,33],r:[2,33],s:[2,33],t:[2,33],u:[2,33],v:[2,33],w:[2,33],j:[2,33],g:[2,33],ae:[2,33]},74:{h:[2,34],
k:[2,34],l:[2,34],m:[2,34],n:[2,34],o:[2,34],p:[2,34],q:[2,34],r:[2,34],s:[2,34],t:[2,34],u:[2,34],v:[2,34],w:[2,34],j:[2,34],g:[2,34],ae:[2,34]},75:{ab:[1,a,7]},76:{i:[1,a,11],t:[1,a,12],x:[1,a,13],y:[1,a,14],z:[1,a,15],ab:[1,a,7]},77:{i:[1,a,11],t:[1,a,12],x:[1,a,13],y:[1,a,14],z:[1,a,15],ab:[1,a,53]},78:{h:[2,9],k:[2,9],l:[2,9],m:[2,9],n:[2,9],o:[2,9],p:[2,9],q:[2,9],r:[2,9],s:[2,9],t:[2,9],u:[2,9],v:[2,9],w:[2,9],j:[2,9],g:[2,9],ae:[2,9]},79:{ab:[1,a,86]},80:{h:[2,10],k:[2,10],l:[2,10],m:[2,10],
n:[2,10],o:[2,10],p:[2,10],q:[2,10],r:[2,10],s:[2,10],t:[2,10],u:[2,10],v:[2,10],w:[2,10],j:[2,10],g:[2,10],ae:[2,10]},81:{i:[2,48],ac:[2,48],ad:[2,48],h:[2,48],k:[2,48],l:[2,48],m:[2,48],n:[2,48],o:[2,48],p:[2,48],q:[2,48],r:[2,48],s:[2,48],t:[2,48],u:[2,48],v:[2,48],w:[2,48],j:[2,48],g:[2,48],ae:[2,48]},82:{h:[1,a,88]},83:{j:[2,45],g:[2,45]},84:{g:[2,12],j:[2,12]},85:{g:[1,a,79],j:[1,a,89]},86:{aa:[1,a,76]},87:{j:[2,43],g:[2,43]},88:{a:[2,5],e:[2,5],c:[2,5],f:[2,5],b:[2,5],d:[2,5]},89:{h:[2,8],
k:[2,8],l:[2,8],m:[2,8],n:[2,8],o:[2,8],p:[2,8],q:[2,8],r:[2,8],s:[2,8],t:[2,8],u:[2,8],v:[2,8],w:[2,8],j:[2,8],g:[2,8],ae:[2,8]}}};i.parse=function(b,d){var c=this.lexer,f,g,i,k=this.table,q=k.gotos,k=k.action,r=this.productions,m=[null],y=d?"in file: "+d+" ":"",l=[0];for(c.resetInput(b);;){f=l[l.length-1];g||(g=c.lex());i=g?k[f]&&k[f][g]:null;if(!i){g=[];if(k[f])for(var n in k[f])i=k[f][n][0],g.push(["accept","shift","reduce"][i]+":"+this.lexer.mapReverseSymbol(n));c=y+"syntax error at line "+c.lineNumber+
":\n"+c.showDebugInfo()+"\nexpect "+g.join(", ");throw Error(c);}switch(i[0]){case 1:l.push(g);m.push(c.text);l.push(i[2]);g=null;break;case 2:var p=r[i[1]];f=p.symbol||p[0];i=p.action||p[2];var o=(p.rhs||p[1]).length,u=0,v,p=m[m.length-o];v=a;for(this.$$=p;u<o;u++)this["$"+(o-u)]=m[m.length-1-u];i&&(v=i.call(this));p=v!==a?v:this.$$;l=l.slice(0,-2*o);m=m.slice(0,-1*o);l.push(f);m.push(p);l.push(q[l[l.length-2]][l[l.length-1]]);break;case 0:return p}}};return i}();"undefined"!==typeof r&&(r.exports=
b)});
KISSY.add("xtemplate/compiler/ast",["logger-manager"],function(b,k,q,r){b={};k("logger-manager");b.ProgramNode=function(a,b,c){this.lineNumber=a;this.statements=b;this.inverse=c};b.ProgramNode.prototype.type="program";b.BlockStatement=function(a,b,c,i,g){i=i.parts;a:{var k=b.id.parts,e=k.length;if(e===i.length)for(var j=0;j<e;j++)if(k[j]!==i[j])break a}this.escape=g;this.lineNumber=a;this.func=b;this.program=c};b.BlockStatement.prototype.type="blockStatement";b.ExpressionStatement=function(a,b,c){this.lineNumber=
a;this.value=b;this.escape=c};b.ExpressionStatement.prototype.type="expressionStatement";b.ContentStatement=function(a,b){this.lineNumber=a;this.value=b};b.ContentStatement.prototype.type="contentStatement";b.UnaryExpression=function(a,b){this.value=b;this.unaryType=a};b.Function=function(a,b,c,i){this.lineNumber=a;this.id=b;this.params=c;this.hash=i};b.Function.prototype.type="function";b.UnaryExpression.prototype.type="unaryExpression";b.MultiplicativeExpression=function(a,b,c){this.op1=a;this.opType=
b;this.op2=c};b.MultiplicativeExpression.prototype.type="multiplicativeExpression";b.AdditiveExpression=function(a,b,c){this.op1=a;this.opType=b;this.op2=c};b.AdditiveExpression.prototype.type="additiveExpression";b.RelationalExpression=function(a,b,c){this.op1=a;this.opType=b;this.op2=c};b.RelationalExpression.prototype.type="relationalExpression";b.EqualityExpression=function(a,b,c){this.op1=a;this.opType=b;this.op2=c};b.EqualityExpression.prototype.type="equalityExpression";b.ConditionalAndExpression=
function(a,b){this.op1=a;this.op2=b;this.opType="&&"};b.ConditionalAndExpression.prototype.type="conditionalAndExpression";b.ConditionalOrExpression=function(a,b){this.op1=a;this.op2=b;this.opType="||"};b.ConditionalOrExpression.prototype.type="conditionalOrExpression";b.String=function(a,b){this.lineNumber=a;this.value=b};b.String.prototype.type="string";b.Number=function(a,b){this.lineNumber=a;this.value=b};b.Number.prototype.type="number";b.Hash=function(a){this.lineNumber=a;this.value={}};b.Hash.prototype.type=
"hash";b.Id=function(a,b){var c=[],i=0;this.lineNumber=a;for(var g=0,k=b.length;g<k;g++){var e=b[g];".."===e?i++:c.push(e)}this.parts=c;this.string=c.join(".");this.depth=i};b.Id.prototype.type="id";r.exports=b});
